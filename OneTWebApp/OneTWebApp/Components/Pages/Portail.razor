@page "/"
@using OneTWebApp.Client.Models
@using OneTWebApp.Client.Components

@rendermode InteractiveAuto

<style>
    .gradient-background {
        background: radial-gradient(
            ellipse at top center,
            #ffb3b3 0%,
            #ffcdd2 20%,
            #ffe4f0 40%,
            #ffffff 90%
        );
        width: 100vw;
        height: 100vh;
    }

    .down {
        margin-top: 75px;
    }

    body, html {
        overflow: hidden;
        margin: 0;
        padding: 0;
    }
</style>

<div class="gradient-background">

    <MudStack Row="true"
              AlignItems="AlignItems.Center"
              Justify="Justify.SpaceBetween">
        <MudImage Src="Images/icon-s3ns.png" Alt="s3nsImage" Width="100"/>
        <MudImage Src="Images/icon-suitenumerique.png" Alt="suiteNumericImage" Width="150"/>
    </MudStack>

    <MudText Typo="Typo.h3" Align="Align.Center">
        <b>Welcome to S3NS x LaSuite Portal!</b>
    </MudText>

    <MudSpacer/>

    <ResumeInsight Apps="_apps"/>

    <MudGrid Justify="Justify.SpaceBetween">
        @foreach (var app in _apps) {
            <MudItem xs="12" sm="6" class="d-flex justify-center down">
                <ItemCard AppModel="app"/>
            </MudItem>
        }
    </MudGrid>

</div>


@code {

    private AppModel[] _apps;

    protected override void OnInitialized() {
        base.OnInitialized();
        _apps = [
            new AppModel {
                AppType = AppType.Docs,
                DeployedState = DeployState.Undeployed,
                Version = "2.1.3"
            },
            new AppModel {
                AppType = AppType.Tchap,
                DeployedState = DeployState.Undeployed,
                Version = "1.0.1"
            }
        ];
    }

}
