@using OneTWebApp.Client.Models
@using OneTWebApp.Client.Utils
@rendermode InteractiveAuto
@inject IDialogService DialogService
@inject HttpClient _httpClient

<MudStack Row="true"
          AlignItems="AlignItems.Center"
          Justify="Justify.SpaceBetween">
    <MudAvatar Style="height:50px; width:50px; font-size:1.5rem;"
               Class="p-2"
               Color="Color.Primary"
               Variant="Variant.Outlined">
        <MudImage Src="@(ImageUtils.GetIconAppPath(Type))"></MudImage>
    </MudAvatar>
    <MudButton Color="Color.Primary"
               Variant="Variant.Filled"
               Size="Size.Small"
               StartIcon="@Icons.Material.Filled.AddCircleOutline"
               OnClick="OpenDialogAsync">
        Add new instance
    </MudButton>
</MudStack>

@code {
    [Parameter] public AppType Type { get; set; }


    private Task OpenDialogAsync() {
        var options = new DialogOptions { CloseOnEscapeKey = true };
        return DialogService.ShowAsync<NameForm>("Simple Dialog", options);
    }

}