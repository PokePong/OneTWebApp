@using OneTWebApp.Client.Models
@using MudBlazor
@rendermode InteractiveAuto

<MudExpansionPanels>
    @foreach (var app in _apps) {
        <MudExpansionPanel>
            <TitleContent>
                <AppPanel AppModel="app"/>
            </TitleContent>
            <ChildContent>
                <MudStack Spacing="2">
                    <InstancePanel/>
                    <InstancePanel/>
                    <InstancePanel/>
                </MudStack>
            </ChildContent>
        </MudExpansionPanel>
    }
</MudExpansionPanels>

@code {

    private AppModel[] _apps;

    protected override async Task OnInitializedAsync() {
        await base.OnInitializedAsync();

        _apps = [
            new AppModel {
                AppType = AppType.Docs,
                DeployedState = DeployState.Undeployed
            },
            new AppModel {
                AppType = AppType.Tchap,
                DeployedState = DeployState.Undeployed
            }
        ];
    }

}